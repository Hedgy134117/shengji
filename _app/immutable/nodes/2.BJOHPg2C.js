import{s as G,n as v}from"../chunks/scheduler.CQ0VQmrD.js";import{S as R,i as L,e as b,t as z,s as E,c as S,a as P,b as q,d as g,f as A,k,m as V,g as y,h as m,j as I,l as x,x as F,q as j,r as N,z as H,u as O,o as w,p as B,v as W,n as Z,w as ee}from"../chunks/index.BijzvjHs.js";import{s as D,e as C,h as te,P as Y,G as se}from"../chunks/GameList.BDUEDMgK.js";function J(n,e,s){const t=n.slice();return t[4]=e[s],t}function K(n){let e,s=D(n[4][0])+"",t,l;return{c(){e=b("p"),t=z(s),l=E(),this.h()},l(a){e=S(a,"P",{class:!0});var r=P(e);t=q(r,s),l=A(r),r.forEach(g),this.h()},h(){k(e,"class","score svelte-18boys0"),V(e,"score__staged",n[4][1])},m(a,r){y(a,e,r),m(e,t),m(e,l)},p(a,r){r&8&&s!==(s=D(a[4][0])+"")&&I(t,s),r&8&&V(e,"score__staged",a[4][1])},d(a){a&&g(e)}}}function le(n){let e,s,t=D(n[2])+"",l,a,r,f,u,p=D(n[1])+"",h,i=C(n[3].reverse()),o=[];for(let c=0;c<i.length;c+=1)o[c]=K(J(n,i,c));return{c(){e=b("div"),s=b("p"),l=z(t),a=E(),r=b("div");for(let c=0;c<o.length;c+=1)o[c].c();f=E(),u=b("p"),h=z(p),this.h()},l(c){e=S(c,"DIV",{class:!0});var d=P(e);s=S(d,"P",{class:!0});var _=P(s);l=q(_,t),_.forEach(g),a=A(d),r=S(d,"DIV",{class:!0});var $=P(r);for(let M=0;M<o.length;M+=1)o[M].l($);$.forEach(g),f=A(d),u=S(d,"P",{class:!0});var T=P(u);h=q(T,p),T.forEach(g),d.forEach(g),this.h()},h(){k(s,"class","score score__curent svelte-18boys0"),V(s,"score__staged",n[0]),k(r,"class","score-list svelte-18boys0"),k(u,"class","score score__start svelte-18boys0"),k(e,"class","scores svelte-18boys0")},m(c,d){y(c,e,d),m(e,s),m(s,l),m(e,a),m(e,r);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(r,null);m(e,f),m(e,u),m(u,h)},p(c,[d]){if(d&4&&t!==(t=D(c[2])+"")&&I(l,t),d&1&&V(s,"score__staged",c[0]),d&8){i=C(c[3].reverse());let _;for(_=0;_<i.length;_+=1){const $=J(c,i,_);o[_]?o[_].p($,d):(o[_]=K($),o[_].c(),o[_].m(r,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=i.length}d&2&&p!==(p=D(c[1])+"")&&I(h,p)},i:v,o:v,d(c){c&&g(e),x(o,c)}}}function re(n,e,s){let{isStaged:t}=e,{start:l}=e,{score:a}=e,{scoresAndStaged:r}=e;return n.$$set=f=>{"isStaged"in f&&s(0,t=f.isStaged),"start"in f&&s(1,l=f.start),"score"in f&&s(2,a=f.score),"scoresAndStaged"in f&&s(3,r=f.scoresAndStaged)},[t,l,a,r]}class ae extends R{constructor(e){super(),L(this,e,re,le,G,{isStaged:0,start:1,score:2,scoresAndStaged:3})}}function Q(n,e,s){const t=n.slice();return t[3]=e[s],t[5]=s,t}function U(n){let e,s=C(n[2]),t=[];for(let l=0;l<s.length;l+=1)t[l]=X(Q(n,s,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=F()},l(l){for(let a=0;a<t.length;a+=1)t[a].l(l);e=F()},m(l,a){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(l,a);y(l,e,a)},p(l,a){if(a&4){s=C(l[2]);let r;for(r=0;r<s.length;r+=1){const f=Q(l,s,r);t[r]?t[r].p(f,a):(t[r]=X(),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=s.length}},d(l){l&&g(e),x(t,l)}}}function X(n){let e;return{c(){e=b("progress"),this.h()},l(s){e=S(s,"PROGRESS",{max:!0,class:!0}),P(e).forEach(g),this.h()},h(){e.value="1",k(e,"max","1"),k(e,"class","svelte-h8qevh")},m(s,t){y(s,e,t)},p:v,d(s){s&&g(e)}}}function ne(n){let e,s=Math.round(n[0]*100)+"",t,l,a=n[1]+1+"",r,f,u,p,h,i=n[2]!==null&&U(n);return{c(){e=b("p"),t=z(s),l=z("% to P"),r=z(a),f=E(),u=b("div"),i&&i.c(),p=E(),h=b("progress"),this.h()},l(o){e=S(o,"P",{class:!0});var c=P(e);t=q(c,s),l=q(c,"% to P"),r=q(c,a),c.forEach(g),f=A(o),u=S(o,"DIV",{class:!0});var d=P(u);i&&i.l(d),p=A(d),h=S(d,"PROGRESS",{max:!0,class:!0}),P(h).forEach(g),d.forEach(g),this.h()},h(){k(e,"class","prestige svelte-h8qevh"),h.value=n[0],k(h,"max","1"),k(h,"class","svelte-h8qevh"),k(u,"class","prestige-bars")},m(o,c){y(o,e,c),m(e,t),m(e,l),m(e,r),y(o,f,c),y(o,u,c),i&&i.m(u,null),m(u,p),m(u,h)},p(o,[c]){c&1&&s!==(s=Math.round(o[0]*100)+"")&&I(t,s),c&2&&a!==(a=o[1]+1+"")&&I(r,a),o[2]!==null?i?i.p(o,c):(i=U(o),i.c(),i.m(u,p)):i&&(i.d(1),i=null),c&1&&(h.value=o[0])},i:v,o:v,d(o){o&&(g(e),g(f),g(u)),i&&i.d()}}}function oe(n,e,s){let{progress:t}=e,{prestige:l}=e,a=null;return l>0&&(a=Array.from(" ".repeat(l))),n.$$set=r=>{"progress"in r&&s(0,t=r.progress),"prestige"in r&&s(1,l=r.prestige)},[t,l,a]}class ie extends R{constructor(e){super(),L(this,e,oe,ne,G,{progress:0,prestige:1})}}function ce(n){let e,s,t=n[0].name+"",l,a,r,f,u,p;return r=new ae({props:{isStaged:n[0].isStaged(),start:n[0].start,score:n[0].getScore(),scoresAndStaged:n[0].getScoresWithStaged()}}),u=new ie({props:{progress:n[0].getProgress(),prestige:n[0].getPrestige()}}),{c(){e=b("div"),s=b("p"),l=z(t),a=E(),j(r.$$.fragment),f=E(),j(u.$$.fragment),this.h()},l(h){e=S(h,"DIV",{class:!0});var i=P(e);s=S(i,"P",{class:!0,style:!0});var o=P(s);l=q(o,t),o.forEach(g),a=A(i),N(r.$$.fragment,i),f=A(i),N(u.$$.fragment,i),i.forEach(g),this.h()},h(){k(s,"class","player-name svelte-1r9zgva"),H(s,"border",n[0].getPrestige()+"px solid var(--accent-color)"),k(e,"class","player-box svelte-1r9zgva")},m(h,i){y(h,e,i),m(e,s),m(s,l),m(e,a),O(r,e,null),m(e,f),O(u,e,null),p=!0},p(h,[i]){(!p||i&1)&&t!==(t=h[0].name+"")&&I(l,t),(!p||i&1)&&H(s,"border",h[0].getPrestige()+"px solid var(--accent-color)");const o={};i&1&&(o.isStaged=h[0].isStaged()),i&1&&(o.start=h[0].start),i&1&&(o.score=h[0].getScore()),i&1&&(o.scoresAndStaged=h[0].getScoresWithStaged()),r.$set(o);const c={};i&1&&(c.progress=h[0].getProgress()),i&1&&(c.prestige=h[0].getPrestige()),u.$set(c)},i(h){p||(w(r.$$.fragment,h),w(u.$$.fragment,h),p=!0)},o(h){B(r.$$.fragment,h),B(u.$$.fragment,h),p=!1},d(h){h&&g(e),W(r),W(u)}}}function fe(n,e,s){let{player:t}=e;return n.$$set=l=>{"player"in l&&s(0,t=l.player)},[t]}class he extends R{constructor(e){super(),L(this,e,fe,ce,G,{player:0})}}function ue(n,e,s){const t=n.slice();return t[1]=e[s],t}function ge(n){return{c:v,l:v,m:v,i:v,o:v,d:v}}function _e(n){let e,s,t=C(Y.players),l=[];for(let a=0;a<t.length;a+=1)l[a]=de(ue(n,t,a));return{c(){e=b("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=S(a,"DIV",{class:!0});var r=P(e);for(let f=0;f<l.length;f+=1)l[f].l(r);r.forEach(g),this.h()},h(){k(e,"class","player-box-list")},m(a,r){y(a,e,r);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null);s=!0},i(a){if(!s){for(let r=0;r<t.length;r+=1)w(l[r]);s=!0}},o(a){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)B(l[r]);s=!1},d(a){a&&g(e),x(l,a)}}}function de(n){let e,s;return e=new he({props:{player:n[1]}}),{c(){j(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,l){O(e,t,l),s=!0},p:v,i(t){s||(w(e.$$.fragment,t),s=!0)},o(t){B(e.$$.fragment,t),s=!1},d(t){W(e,t)}}}function me(n){let e,s="Loading Data";return{c(){e=b("p"),e.textContent=s},l(t){e=S(t,"P",{"data-svelte-h":!0}),ee(e)!=="svelte-14rifgg"&&(e.textContent=s)},m(t,l){y(t,e,l)},i:v,o:v,d(t){t&&g(e)}}}function pe(n){let e,s,t,l={ctx:n,current:null,token:null,hasCatch:!1,pending:me,then:_e,catch:ge,blocks:[,,,]};return te(n[0](),l),{c(){e=E(),s=b("main"),l.block.c(),this.h()},l(a){Z("svelte-1q4z6de",document.head).forEach(g),e=A(a),s=S(a,"MAIN",{});var f=P(s);l.block.l(f),f.forEach(g),this.h()},h(){document.title="shengji players"},m(a,r){y(a,e,r),y(a,s,r),l.block.m(s,l.anchor=null),l.mount=()=>s,l.anchor=null,t=!0},p(a,[r]){n=a},i(a){t||(w(l.block),t=!0)},o(a){for(let r=0;r<3;r+=1){const f=l.blocks[r];B(f)}t=!1},d(a){a&&(g(e),g(s)),l.block.d(),l.token=null,l=null}}}function ve(n){async function e(){return await Y.initialize(),se.initialize()}return[e]}class Pe extends R{constructor(e){super(),L(this,e,ve,pe,G,{})}}export{Pe as component};
