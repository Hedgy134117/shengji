import{s as ae,n as v}from"../chunks/scheduler.CQ0VQmrD.js";import{S as se,i as re,e as d,t as E,s as j,c as g,a as m,b as S,d as f,f as y,k as p,m as N,g as V,h,j as I,l as ne,n as ce,o as U,p as X,q as ie,r as ue,u as he,v as fe,w as _e}from"../chunks/index.DRkjVt1f.js";import{e as Q,h as de,P as oe,G as ge}from"../chunks/GameList.Dm-SxhZe.js";import{s as z}from"../chunks/util.DKjqa7M5.js";function te(n,e,r){const t=n.slice();return t[1]=e[r],t}function le(n){let e,r=z(n[1][0])+"",t,l;return{c(){e=d("p"),t=E(r),l=j(),this.h()},l(a){e=g(a,"P",{class:!0});var s=m(e);t=S(s,r),l=y(s),s.forEach(f),this.h()},h(){p(e,"class","score svelte-18aedjc"),N(e,"score__staged",n[1][1])},m(a,s){V(a,e,s),h(e,t),h(e,l)},p(a,s){s&1&&r!==(r=z(a[1][0])+"")&&I(t,r),s&1&&N(e,"score__staged",a[1][1])},d(a){a&&f(e)}}}function pe(n){let e,r,t=n[0].name+"",l,a,s,c,q=z(n[0].getScore())+"",M,O,$,T,C,w=z(n[0].start)+"",B,F,k,G=Math.round(n[0].getProgress()*100)+"",R,H,L=n[0].getPrestige()+1+"",W,J,P,x,D=Q(n[0].getScoresWithStaged().reverse()),_=[];for(let o=0;o<D.length;o+=1)_[o]=le(te(n,D,o));return{c(){e=d("div"),r=d("p"),l=E(t),a=j(),s=d("div"),c=d("p"),M=E(q),O=j(),$=d("div");for(let o=0;o<_.length;o+=1)_[o].c();T=j(),C=d("p"),B=E(w),F=j(),k=d("p"),R=E(G),H=E("% to P"),W=E(L),J=j(),P=d("progress"),this.h()},l(o){e=g(o,"DIV",{class:!0});var i=m(e);r=g(i,"P",{class:!0});var u=m(r);l=S(u,t),u.forEach(f),a=y(i),s=g(i,"DIV",{class:!0});var b=m(s);c=g(b,"P",{class:!0});var Y=m(c);M=S(Y,q),Y.forEach(f),O=y(b),$=g(b,"DIV",{class:!0});var Z=m($);for(let K=0;K<_.length;K+=1)_[K].l(Z);Z.forEach(f),T=y(b),C=g(b,"P",{class:!0});var ee=m(C);B=S(ee,w),ee.forEach(f),b.forEach(f),F=y(i),k=g(i,"P",{class:!0});var A=m(k);R=S(A,G),H=S(A,"% to P"),W=S(A,L),A.forEach(f),J=y(i),P=g(i,"PROGRESS",{max:!0,class:!0}),m(P).forEach(f),i.forEach(f),this.h()},h(){p(r,"class","player-name svelte-18aedjc"),p(c,"class","score score__curent svelte-18aedjc"),N(c,"score__staged",n[0].isStaged()),p($,"class","score-list svelte-18aedjc"),p(C,"class","score score__start svelte-18aedjc"),p(s,"class","scores svelte-18aedjc"),p(k,"class","prestige svelte-18aedjc"),P.value=x=n[0].getProgress(),p(P,"max","1"),p(P,"class","svelte-18aedjc"),p(e,"class","player-box svelte-18aedjc")},m(o,i){V(o,e,i),h(e,r),h(r,l),h(e,a),h(e,s),h(s,c),h(c,M),h(s,O),h(s,$);for(let u=0;u<_.length;u+=1)_[u]&&_[u].m($,null);h(s,T),h(s,C),h(C,B),h(e,F),h(e,k),h(k,R),h(k,H),h(k,W),h(e,J),h(e,P)},p(o,[i]){if(i&1&&t!==(t=o[0].name+"")&&I(l,t),i&1&&q!==(q=z(o[0].getScore())+"")&&I(M,q),i&1&&N(c,"score__staged",o[0].isStaged()),i&1){D=Q(o[0].getScoresWithStaged().reverse());let u;for(u=0;u<D.length;u+=1){const b=te(o,D,u);_[u]?_[u].p(b,i):(_[u]=le(b),_[u].c(),_[u].m($,null))}for(;u<_.length;u+=1)_[u].d(1);_.length=D.length}i&1&&w!==(w=z(o[0].start)+"")&&I(B,w),i&1&&G!==(G=Math.round(o[0].getProgress()*100)+"")&&I(R,G),i&1&&L!==(L=o[0].getPrestige()+1+"")&&I(W,L),i&1&&x!==(x=o[0].getProgress())&&(P.value=x)},i:v,o:v,d(o){o&&f(e),ne(_,o)}}}function me(n,e,r){let{player:t}=e;return n.$$set=l=>{"player"in l&&r(0,t=l.player)},[t]}class ve extends se{constructor(e){super(),re(this,e,me,pe,ae,{player:0})}}function be(n,e,r){const t=n.slice();return t[1]=e[r],t}function ke(n){return{c:v,l:v,m:v,i:v,o:v,d:v}}function Pe(n){let e,r,t=Q(oe.players),l=[];for(let a=0;a<t.length;a+=1)l[a]=$e(be(n,t,a));return{c(){e=d("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=g(a,"DIV",{class:!0});var s=m(e);for(let c=0;c<l.length;c+=1)l[c].l(s);s.forEach(f),this.h()},h(){p(e,"class","player-box-list")},m(a,s){V(a,e,s);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);r=!0},i(a){if(!r){for(let s=0;s<t.length;s+=1)U(l[s]);r=!0}},o(a){l=l.filter(Boolean);for(let s=0;s<l.length;s+=1)X(l[s]);r=!1},d(a){a&&f(e),ne(l,a)}}}function $e(n){let e,r;return e=new ve({props:{player:n[1]}}),{c(){ie(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,l){he(e,t,l),r=!0},p:v,i(t){r||(U(e.$$.fragment,t),r=!0)},o(t){X(e.$$.fragment,t),r=!1},d(t){fe(e,t)}}}function Ee(n){let e,r="Loading Data";return{c(){e=d("p"),e.textContent=r},l(t){e=g(t,"P",{"data-svelte-h":!0}),_e(e)!=="svelte-14rifgg"&&(e.textContent=r)},m(t,l){V(t,e,l)},i:v,o:v,d(t){t&&f(e)}}}function Se(n){let e,r,t,l={ctx:n,current:null,token:null,hasCatch:!1,pending:Ee,then:Pe,catch:ke,blocks:[,,,]};return de(n[0](),l),{c(){e=j(),r=d("main"),l.block.c(),this.h()},l(a){ce("svelte-1q4z6de",document.head).forEach(f),e=y(a),r=g(a,"MAIN",{});var c=m(r);l.block.l(c),c.forEach(f),this.h()},h(){document.title="shengji players"},m(a,s){V(a,e,s),V(a,r,s),l.block.m(r,l.anchor=null),l.mount=()=>r,l.anchor=null,t=!0},p(a,[s]){n=a},i(a){t||(U(l.block),t=!0)},o(a){for(let s=0;s<3;s+=1){const c=l.blocks[s];X(c)}t=!1},d(a){a&&(f(e),f(r)),l.block.d(),l.token=null,l=null}}}function je(n){async function e(){return await oe.initialize(),ge.initialize()}return[e]}class ze extends se{constructor(e){super(),re(this,e,je,Se,ae,{})}}export{ze as component};
